const defaultCSSClasses={main:"scjs",ribbon:{container:"scjs-ribbon-container"},captcha:{main:"scjs",container:"scjs-captcha-container",values:"scjs-captcha-value",input:"scjs-captcha-input",flag:"scjs-captcha-flag"}};class Utils{static getRandomNumber(t,e){return Math.floor(Math.random()*(e-t+1))+t}static generateRandomString(e){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let c="";for(let t=0;t<e;t++){var n=this.getRandomNumber(0,a.length-1);c+=a.charAt(n)}return c}}class CaptchaGenerator{static textCaptcha(t,e){console.log(e);var a,c=document.getElementById(t);return c?((a=document.createElement("span")).id=t+"-value",a.className=defaultCSSClasses.captcha.values,a.textContent=Utils.generateRandomString({easy:6,medium:10,strong:14}[e]),(e=document.createElement("input")).id=t+"-input",e.className=defaultCSSClasses.captcha.input,e.type="text",c.appendChild(a),c.appendChild(e)):console.error("Target captcha not found"),"GeneratedTextCaptcha"}static imageCaptcha(t,e){return"GeneratedImageCaptcha"}static audioCaptcha(t){return"GeneratedAudioCaptcha"}static mathCaptcha(){return"GeneratedMathCaptcha"}static checkboxCaptcha(){return"GeneratedCheckboxCaptcha"}static honeypot(){return"GeneratedHoneypotCaptcha"}}class captchaValidity{static textCaptcha(t){return document.getElementById(t)||console.error("Can't valid the captcha since not found in target!"),!1}static imageCaptcha(t,e){return!0}static audioCaptcha(t){return!0}static mathCaptcha(){return!0}static checkboxCaptcha(){return!0}static honeypot(){return!0}}class SimpleCaptcha{constructor(){}ribbon(t){var t=Object.assign(Object.assign({},{display:!0,title:"Website protected!",icon:!0,position:"bottom-right",link:"https://iietmoon.github.io/simple-captcha-js"}),t),e=document.createElement("div");switch(e.id="simple-captcha-ribbon",e.className=defaultCSSClasses.main,e.classList.add(defaultCSSClasses.ribbon.container),t.position){case"top-left":e.style.top="0",e.style.left="25px";break;case"top-right":e.style.top="0",e.style.right="25px";break;case"bottom-left":e.style.bottom="0",e.style.left="25px";break;default:e.style.bottom="0",e.style.right="25px"}var a=document.createElement("a"),a=(a.href=t.link,a.target="_blank",a.textContent=t.title,a.style.color="black",a.style.fontFamily="sans-serif",a.style.fontWeight="700",a.style.textDecoration="none",a.style.fontSize="13px",e.appendChild(a),t.icon&&((a=document.createElement("img")).src="/assets/img/icon.svg",a.alt="CAPTCHA Icon",a.style.width="15px",e.appendChild(a)),document.body);t.display&&("bottom-right"===t.position||"bottom-left"===t.position?a.insertBefore(e,a.firstChild):a.appendChild(e))}captcha(t){const{formId:e,display:a,difficulty:c="medium"}=t;if(!1!==a){const s=document.getElementById(e);if(s){t=s.querySelector('input[type="submit"], button[type="submit"]');if(t){const i=Utils.generateRandomString(8);var n=document.createElement("div");n.className=defaultCSSClasses.main,n.id=i,n.classList.add(defaultCSSClasses.captcha.container),s.insertBefore(n,t),CaptchaGenerator.textCaptcha(i,c),t.addEventListener("click",function(t){t.preventDefault(),captchaValidity.textCaptcha(i)&&s.submit(),console.log("try to submit "+e)})}else console.error(`Submit button not found in (${e})`)}else console.error(`Form (${e}) not found!`)}}init(t){this.ribbon(null==t?void 0:t.ribbon),null!=t&&t.captcha&&(Array.isArray(t.captcha)?t.captcha.forEach(t=>{this.captcha(t)}):"object"==typeof t.captcha?this.captcha(t.captcha):console.log("config.captcha is neither an array nor an object"))}}