const defaultCSSClasses={main:"scjs",ribbon:{container:"scjs-ribbon-container"},captcha:{main:"scjs",container:"scjs-captcha-container",values:"scjs-captcha-value",input:"scjs-captcha-input",flag:"scjs-captcha-flag"}};class Utils{static getRandomNumber(t,e){return Math.floor(Math.random()*(e-t+1))+t}static generateRandomString(e){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let c="";for(let t=0;t<e;t++){var n=this.getRandomNumber(0,a.length-1);c+=a.charAt(n)}return c}static getRandomHexColor(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}static generateImageElement(t){var e=document.createElement("canvas"),a=e.getContext("2d"),c="Arial",n=(a.font="13px "+c,a.measureText(t).width),n=(e.width=n+30,e.height=43,a.fillStyle=this.getRandomHexColor(),a.fillRect(0,0,e.width,e.height),a.fillStyle="#000000",a.textBaseline="middle",a.font="13px "+c,a.fillText(t,15,e.height/2),e.toDataURL()),c=document.createElement("img");return c.src=n,c}}class CaptchaValue{static set(t,e){this[t]=e}static get(t){return this[t]}}CaptchaValue.textCaptcha="",CaptchaValue.imageCaptcha="",CaptchaValue.audioCaptcha="",CaptchaValue.mathCaptcha={},CaptchaValue.checkboxCaptcha=!1,CaptchaValue.honeypot=!1;class CaptchaGenerator{static textCaptcha(t,e){var a,c,e=Utils.generateRandomString({easy:6,medium:10,strong:14}[e]);if(e)return this.textCaptchaValue=e,(a=document.getElementById(t))?((c=document.createElement("span")).id=t+"-value",c.className=defaultCSSClasses.captcha.values,e=Utils.generateImageElement(e),c.appendChild(e),(e=document.createElement("input")).id=t+"-input",e.className=defaultCSSClasses.captcha.input,e.type="text",e.placeholder="Type the answer!",(t=document.createElement("img")).src="/assets/img/icon.svg",t.alt="CAPTCHA Icon",t.style.width="15px",a.appendChild(c),a.appendChild(e),a.appendChild(t)):console.error("Target captcha not found"),this.textCaptchaValue}}CaptchaGenerator.textCaptchaValue="",CaptchaGenerator.imageCaptchaValue="",CaptchaGenerator.audioCaptchaValue="",CaptchaGenerator.mathCaptchaValue={},CaptchaGenerator.checkboxCaptchaValue=!1,CaptchaGenerator.honeypotValue=!1;class captchaValidity{static textCaptcha(t){return document.getElementById(t)||console.error("Can't valid the captcha since not found in target!"),!1}static imageCaptcha(t,e){return!0}static audioCaptcha(t){return!0}static mathCaptcha(){return!0}static checkboxCaptcha(){return!0}static honeypot(){return!0}}class SimpleCaptcha{constructor(){}ribbon(t){var t=Object.assign(Object.assign({},{display:!0,title:"Website protected!",icon:!0,position:"bottom-right",link:"https://iietmoon.github.io/simple-captcha-js"}),t),e=document.createElement("div");switch(e.id="simple-captcha-ribbon",e.className=defaultCSSClasses.main,e.classList.add(defaultCSSClasses.ribbon.container),t.position){case"top-left":e.style.top="0",e.style.left="25px";break;case"top-right":e.style.top="0",e.style.right="25px";break;case"bottom-left":e.style.bottom="0",e.style.left="25px";break;default:e.style.bottom="0",e.style.right="25px"}var a=document.createElement("a"),a=(a.href=t.link,a.target="_blank",a.textContent=t.title,a.style.color="black",a.style.fontFamily="sans-serif",a.style.fontWeight="700",a.style.textDecoration="none",a.style.fontSize="13px",e.appendChild(a),t.icon&&((a=document.createElement("img")).src="/assets/img/icon.svg",a.alt="CAPTCHA Icon",a.style.width="15px",e.appendChild(a)),document.body);t.display&&("bottom-right"===t.position||"bottom-left"===t.position?a.insertBefore(e,a.firstChild):a.appendChild(e))}captcha(t){const{formId:e,display:a,difficulty:c="medium"}=t;if(!1!==a){const i=document.getElementById(e);if(i){t=i.querySelector('input[type="submit"], button[type="submit"]');if(t){const s=Utils.generateRandomString(8);var n=document.createElement("div");n.className=defaultCSSClasses.main,n.id=s,n.classList.add(defaultCSSClasses.captcha.container),i.insertBefore(n,t),CaptchaGenerator.textCaptcha(s,c),t.addEventListener("click",function(t){t.preventDefault(),captchaValidity.textCaptcha(s)&&i.submit(),console.log("try to submit "+e)})}else console.error(`Submit button not found in (${e})`)}else console.error(`Form (${e}) not found!`)}}validity(t){}init(t){this.ribbon(null==t?void 0:t.ribbon),null!=t&&t.captcha&&(Array.isArray(t.captcha)?t.captcha.forEach(t=>{this.captcha(t)}):"object"==typeof t.captcha?this.captcha(t.captcha):console.log("config.captcha is neither an array nor an object"))}}